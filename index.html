<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dream XI Selector - Select Your Dream Team</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="animated-bg"></div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <img
          src="https://cdn-icons-png.flaticon.com/512/53/53283.png"
          alt="Football"
          class="header-img" />

        <div class="header-text">
          <h1>Dream XI Selector</h1>
          <p>
            Build your dream team! Select up to 5 world-class players and manage
            your budget like a pro. Calculate costs and create the ultimate
            squad.
          </p>
        </div>
      </div>
    </header>

    <div class="container">
      <div id="error-message" class="error-message"></div>
      <div class="stats-overview">
        <div class="row">
          <div class="col-md-4 stat-card">
            <div class="stat-number" id="available-players">6</div>
            <div class="stat-label">Available Players</div>
          </div>
          <div class="col-md-4 stat-card">
            <div class="stat-number" id="selected-count">0</div>
            <div class="stat-label">Selected Players</div>
          </div>
          <div class="col-md-4 stat-card">
            <div class="stat-number" id="remaining-slots">5</div>
            <div class="stat-label">Remaining Slots</div>
          </div>
        </div>
        <div class="progress-bar-custom">
          <div
            class="progress-fill"
            id="selection-progress"
            style="width: 0%"></div>
        </div>
      </div>

      <div class="row">
        <!-- Players Section -->
        <div class="col-lg-8">
          <div class="row">
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Neymar Jr.png" alt="Neymar Jr" />
                <div class="player-info">
                  <div class="player-name">Neymar Jr</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>

            <!-- Player 2 -->
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Toni Kroos.png" alt="Toni Kroos" />
                <div class="player-info">
                  <div class="player-name">Toni Kroos</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>

            <!-- Player 3 -->
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Lionel Messi.jpg" alt="Lionel Messi" />
                <div class="player-info">
                  <div class="player-name">Lionel Messi</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>

            <!-- Player 4 -->
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Renato Sanches.png" alt="Renato Sanches" />
                <div class="player-info">
                  <div class="player-name">Renato Sanches</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>

            <!-- Player 5 -->
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Sergio Ramos.png" alt="Sergio Ramos" />
                <div class="player-info">
                  <div class="player-name">Sergio Ramos</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>

            <!-- Player 6 -->
            <div class="col-md-6 col-lg-4">
              <div class="player-card">
                <img src="images/Vítor Machado.png" alt="Vítor Machado" />
                <div class="player-info">
                  <div class="player-name">Vítor Machado</div>
                  <div class="player-stats">36 Goals • 120 Assists</div>
                  <button class="select-btn" onclick="addToCart(this)">
                    Select
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Selection Panel -->
        <div class="col-lg-4">
          <div class="selection-panel">
            <div class="panel-card">
              <div class="panel-header">
                Selected Players (<span id="total-selected">0</span>/5)
              </div>
              <div id="selected-players-list">
                <p style="text-align: center; color: #999; padding: 20px">
                  No players selected yet
                </p>
              </div>
            </div>

            <!-- Budget Calculator -->
            <div class="panel-card">
              <div class="panel-header">Budget Calculator</div>

              <div class="input-group-custom">
                <label class="input-label">Per Player Cost ($)</label>
                <input
                  type="number"
                  class="budget-input"
                  id="per-player-rate"
                  placeholder="Enter amount (e.g., 5000)"
                  min="0" />
              </div>

              <button class="calculate-btn" onclick="calculatePlayerExpenses()">
                Calculate Player Cost
              </button>

              <div class="expense-row">
                <span class="expense-label">Player Expenses</span>
                <span class="expense-value"
                  >$<span id="player-expenses">0</span></span
                >
              </div>

              <hr style="margin: 20px 0; border-color: #e0e0e0" />

              <div class="input-group-custom">
                <label class="input-label">Manager Cost ($)</label>
                <input
                  type="number"
                  class="budget-input"
                  id="manager-rate"
                  placeholder="Enter amount (e.g., 1000)"
                  min="0" />
              </div>

              <div class="input-group-custom">
                <label class="input-label">Coach Cost ($)</label>
                <input
                  type="number"
                  class="budget-input"
                  id="coach-rate"
                  placeholder="Enter amount (e.g., 500)"
                  min="0" />
              </div>

              <button class="calculate-btn" onclick="calculateTotal()">
                Calculate Total
              </button>

              <div class="total-expense">
                <span>Total Budget</span>
                <span>$<span id="total-expenses">0</span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p style="margin: 0; font-size: 1.1rem">
        ⚽ Dream XI Selector © 2025 update
      </p>
      <p style="margin: 5px 0 0 0; opacity: 0.8">All Rights Reserved</p>
    </footer>

    <script>
      const selectedPlayers = [];
      const MAX_PLAYERS = 5;

      function showError(message) {
        const errorDiv = document.getElementById("error-message");
        errorDiv.textContent = message;
        errorDiv.classList.add("show");
        setTimeout(() => {
          errorDiv.classList.remove("show");
        }, 3000);
      }

      function updateStats() {
        document.getElementById("selected-count").textContent =
          selectedPlayers.length;
        document.getElementById("total-selected").textContent =
          selectedPlayers.length;
        document.getElementById("remaining-slots").textContent =
          MAX_PLAYERS - selectedPlayers.length;

        const progressPercent = (selectedPlayers.length / MAX_PLAYERS) * 100;
        document.getElementById("selection-progress").style.width =
          progressPercent + "%";
      }

      function displaySelectedPlayers() {
        const listContainer = document.getElementById("selected-players-list");

        if (selectedPlayers.length === 0) {
          listContainer.innerHTML =
            '<p style="text-align: center; color: #999; padding: 20px;">No players selected yet</p>';
          return;
        }

        listContainer.innerHTML = "";
        selectedPlayers.forEach((player, index) => {
          const playerItem = document.createElement("div");
          playerItem.className = "selected-player-item";
          playerItem.innerHTML = `
                    <span><strong>${index + 1}.</strong> ${player.name}</span>
                    <button class="remove-btn" onclick="removePlayer(${index})" title="Remove player">×</button>
                `;
          listContainer.appendChild(playerItem);
        });
      }

      function addToCart(button) {
        if (selectedPlayers.length >= MAX_PLAYERS) {
          showError("⚠️ Maximum 5 players can be selected!");
          alert("⚠️ Maximum 5 players can be selected!");
          return;
        }

        const playerName =
          button.parentNode.querySelector(".player-name").textContent;

        const alreadySelected = selectedPlayers.some(
          (player) => player.name === playerName
        );
        if (alreadySelected) {
          showError("⚠️ Player already selected!");
          return;
        }

        selectedPlayers.push({ name: playerName, button: button });
        button.disabled = true;
        button.textContent = "Selected";

        updateStats();
        displaySelectedPlayers();
      }

      function removePlayer(index) {
        const player = selectedPlayers[index];
        player.button.disabled = false;
        player.button.textContent = "Select";

        selectedPlayers.splice(index, 1);

        updateStats();
        displaySelectedPlayers();
      }

      function calculatePlayerExpenses() {
        const perPlayerInput = document.getElementById("per-player-rate");
        const perPlayerRate = parseFloat(perPlayerInput.value);

        if (!perPlayerRate || perPlayerRate <= 0) {
          showError("⚠️ Please enter a valid amount per player!");
          return;
        }

        if (selectedPlayers.length === 0) {
          showError("⚠️ Please select at least one player first!");
          return;
        }

        const totalPlayerExpenses = perPlayerRate * selectedPlayers.length;
        document.getElementById("player-expenses").textContent =
          totalPlayerExpenses.toFixed(2);
      }

      function calculateTotal() {
        const playerExpenses =
          parseFloat(document.getElementById("player-expenses").textContent) ||
          0;
        const managerRate =
          parseFloat(document.getElementById("manager-rate").value) || 0;
        const coachRate =
          parseFloat(document.getElementById("coach-rate").value) || 0;

        if (managerRate < 0 || coachRate < 0) {
          showError("⚠️ Costs cannot be negative!");
          return;
        }

        if (playerExpenses === 0) {
          showError("⚠️ Please calculate player expenses first!");
          return;
        }

        const total = playerExpenses + managerRate + coachRate;
        document.getElementById("total-expenses").textContent =
          total.toFixed(2);
      }
    </script>
  </body>
</html>
